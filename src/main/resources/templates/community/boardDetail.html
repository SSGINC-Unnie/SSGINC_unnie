<!DOCTYPE html>
<html lang="ko" xmlns:layout="http://www.thymeleaf.org" layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>게시글 상세</title>
    <link rel="stylesheet" th:href="@{/css/board/boardDetail.css}">
</head>
<body>
<div class="container" layout:fragment="content">
    <div id="post-container">
        <div id="post-header">
            <div class="author-info">
                <img id="author-profile" src="" alt="프로필">
                <span id="author-nickname"></span>
            </div>
            <div class="post-actions">
                <button id="report-post-btn" class="report-btn">신고</button>
                <div id="author-actions" style="display: none;">
                    <button id="edit-button">수정</button>
                    <button id="delete-button">삭제</button>
                </div>
            </div>
        </div>

        <div id="report-modal" class="modal-overlay hidden">
            <div class="modal-content">
                <h3 class="modal-title">게시글 신고하기</h3>
                <form id="report-form">
                    <div class="report-reasons">
                        <label><input type="radio" name="reason" value="INAPPROPRIATE_CONTENT"> 부적절한 컨텐츠</label>
                        <label><input type="radio" name="reason" value="ADVERTISEMENT"> 광고 및 홍보</label>
                        <label><input type="radio" name="reason" value="PERSONAL_INFORMATION"> 개인정보 유출</label>
                        <label><input type="radio" name="reason" value="COPYRIGHT_VIOLATION"> 저작권 침해</label>
                        <label><input type="radio" name="reason" value="COMMUNITY_RULE_VIOLATION"> 커뮤니티 규칙 위반</label>
                        <label><input type="radio" name="reason" value="ETC"> 기타</label>
                    </div>
                    <textarea id="report-reason-detailed" placeholder="상세한 신고 사유를 입력해주세요. (선택)"></textarea>
                    <div class="modal-actions">
                        <button type="button" id="cancel-report-btn">취소</button>
                        <button type="submit" id="submit-report-btn">신고 접수</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="post-meta">
            <h1 id="post-title"></h1>
            <div class="meta-line">
                <span id="post-created-at"></span>
                <span class="meta-separator">·</span>
                <span id="post-views-container" class="meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    <span id="post-views">0</span>
                </span>
            </div>
        </div>
        <div id="post-image-container">
            <img id="post-thumbnail" src="" alt="게시글 대표 이미지" style="display: none;">
        </div>
        <div id="post-body"></div>
        <div id="like-section">
            <button id="like-button">
                <svg id="like-icon" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg>
            </button>
            <span id="like-count">0</span>
        </div>
        <div id="comment-section">
            <div class="comment-count-header">
                <span>댓글</span>
                <span id="comment-count">0</span>
            </div>
            <div class="comment-form-wrapper main">
                <textarea id="comment-input" placeholder="댓글을 남겨보세요"></textarea>
                <div class="form-actions">
                    <button id="comment-submit-btn">등록</button>
                </div>
            </div>
            <div id="comment-list"></div>
        </div>
    </div>

    <div id="login-required-modal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 360px; text-align: center;">
            <h3 class="modal-title">로그인 필요</h3>
            <p style="margin: 0 0 20px;">로그인이 필요한 기능입니다.<br>로그인 페이지로 이동하시겠습니까?</p>
            <div class="modal-actions">
                <button type="button" id="modal-close-btn" class="btn-ghost">취소</button>
                <a href="/login" class="btn-primary" style="text-decoration: none; padding: 8px 16px;">로그인</a>
            </div>
        </div>
    </div>

    <div layout:fragment="scripts">
        <script th:src="@{/js/board/boardDetail.js}"></script>
    </div>
</div>
</body>
</html>
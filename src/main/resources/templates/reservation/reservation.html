<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>예약</title>
    <link rel="stylesheet" href="/css/reservation/reservation.css">
</head>
<body>
<div class="container" layout:fragment="content">
    <div class="reservation-container">
        <div id="step-1" class="step-card active">
            <div class="step-header">
                <span class="step-number">1</span>
                <h2 class="step-title">서비스 및 디자이너 선택</h2>
            </div>
            <div class="step-content">
                <h3 class="content-title">서비스</h3>
                <div id="procedure-list" class="card-list">
                    <div class="loader"></div>
                </div>
                <h3 class="content-title">디자이너</h3>
                <div id="designer-list" class="card-list">
                    <div class="loader"></div>
                </div>
            </div>
        </div>

        <div id="step-2" class="step-card">
            <div class="step-header">
                <span class="step-number">2</span>
                <h2 class="step-title">날짜 및 시간 선택</h2>
            </div>
            <div class="step-content">
                <div id="calendar-view">
                    <div class="calendar-header">
                        <button id="prev-month-btn">&lt;</button>
                        <h3 id="current-month-year"></h3>
                        <button id="next-month-btn">&gt;</button>
                    </div>
                    <div class="calendar-grid">
                        <div class="day-name">일</div><div class="day-name">월</div><div class="day-name">화</div><div class="day-name">수</div><div class="day-name">목</div><div class="day-name">금</div><div class="day-name">토</div>
                    </div>
                    <div id="calendar-dates" class="calendar-grid"></div>
                </div>
                <div id="time-slots-container" style="display:none;">
                    <h3 class="content-title" id="selected-date-title">시간 선택</h3>
                    <div id="time-slot-list" class="time-slots"></div>
                </div>
            </div>
        </div>

        <div id="step-3" class="step-card">
            <div class="step-header">
                <span class="step-number">3</span>
                <h2 class="step-title">예약 정보 확인</h2>
            </div>
            <div class="step-content">
                <div id="reservation-summary" class="summary-card"></div>
            </div>
        </div>

        <div class="footer-actions">
            <button id="next-btn" disabled>다음</button>
            <button id="submit-btn" style="display:none;">예약 신청하기</button>
        </div>
    </div>

    <div id="success-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h2>🎉 예약이 완료되었습니다.</h2>
            <p>예약 확정을 위해 10분 내에 결제를 진행해주세요.</p>
            <a href="/mypage/reservations" class="modal-btn">내 예약 확인하기</a>
        </div>
    </div>
    <div layout:fragment="scripts">
        <script th:src="@{/js/reservation/reservation.js}"></script>
    </div>
</div>

</body>
</html>